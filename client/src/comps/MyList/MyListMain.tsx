import React, { useContext, useEffect } from "react";
import { Route } from "react-router";
import { UserContext } from "../../store";
import LikedMovieInMyList from "./LikedMovieInMyList";
import style from "./mylistmain.module.css";
import { motion } from "framer-motion";
import { NavLink } from "react-router-dom";
import { updateOldMatchCounts } from "../../db-operations/useGetWatchListNotification";
import sortByLikeAndMatchTime from "../../HelperFunctions/sortByLikeAndMatchTime";

export default function MyListMain() {
  const { likedMoviesInfos, watchedMovieInfos, userAuth } = useContext(
    UserContext
  );

  useEffect(() => {
    if (likedMoviesInfos && userAuth) {
      console.log("update old match count");
      updateOldMatchCounts(
        userAuth.userInfo.uid,
        likedMoviesInfos.filter((elem) => elem.matches.length > 0).length
      );
    }
  }, [likedMoviesInfos, userAuth]);

  return (
    <>
      <Route path="/mylist">
        <div className="container_allcontent">
          <div>
            <h1>My Watch List</h1>
          </div>
          <div className={style.container_tabs}>
            <NavLink
              exact
              to="/mylist"
              className={`${style.tab} ${"heavy link"}`}
              activeClassName={style.tab_active_1}
            >
              My Movies
            </NavLink>
            <NavLink
              exact
              to="/mylist/watched"
              className={`${style.tab} ${"heavy link"}`}
              activeClassName={style.tab_active_1}
            >
              Watched
            </NavLink>
          </div>
          <motion.div
            animate={{ opacity: 1, paddingTop: "0rem" }}
            initial={{ opacity: 0, paddingTop: "2rem" }}
            transition={{
              duration: 0.5,
              ease: [0.16, 1, 0.3, 1],
            }}
            className={style.mylistmain}
          >
            <Route exact path="/mylist">
              {likedMoviesInfos.length === 0 ? (
                <div className={style.container_emptystate}>
                  <div className="marginTop6">
                    <svg
                      width="143"
                      height="61"
                      viewBox="0 0 143 61"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M142.894 53.8242C143.342 56.5576 141.499 59.1487 138.784 59.6003C137.361 59.837 135.921 59.4374 134.824 58.541C134.686 58.5763 134.547 58.6057 134.406 58.6291C131.691 59.0807 129.118 57.2243 128.67 54.4908C128.577 53.9277 128.582 53.3543 128.68 52.7964C128.147 52.1276 127.789 51.3276 127.649 50.4728C127.201 47.7393 129.044 45.1482 131.758 44.6967C132.884 44.5094 134.033 44.7187 135.015 45.2741C135.179 45.229 135.345 45.1925 135.512 45.1646C138.226 44.7131 140.799 46.5695 141.248 49.303C141.333 49.8222 141.337 50.3485 141.26 50.8629C142.124 51.6199 142.702 52.6544 142.894 53.8242ZM135.577 55.092L136.294 55.9928C136.78 56.603 137.557 56.9033 138.321 56.7757C139.489 56.5814 140.282 55.4665 140.089 54.2903C139.979 53.6182 139.572 53.0496 138.971 52.7303L137.836 52.1267L138.317 50.9284C138.464 50.5627 138.508 50.1619 138.443 49.7693C138.25 48.5931 137.143 47.7944 135.975 47.9887C135.784 48.0205 135.596 48.0788 135.418 48.1622L134.613 48.5386L133.924 47.9757C133.447 47.5859 132.826 47.4199 132.222 47.5205C131.054 47.7148 130.261 48.8297 130.454 50.0058C130.537 50.5165 130.789 50.9636 131.18 51.299L131.947 51.9554L131.587 52.9017C131.451 53.2581 131.412 53.6462 131.474 54.0243C131.667 55.2005 132.775 55.9992 133.942 55.805C134.156 55.7695 134.36 55.7029 134.551 55.6072L135.577 55.092Z"
                        fill="black"
                      />
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M107.885 58.86C108.835 57.9497 109.41 56.7587 109.54 55.48C110.079 55.2302 110.576 54.8917 111.011 54.4753C112.06 53.4703 112.657 52.114 112.693 50.6562C112.729 49.1983 112.199 47.814 111.201 46.7577C109.611 45.0744 107.13 44.6212 105.079 45.5298C103.032 44.2913 100.335 44.5374 98.5471 46.2507C97.4981 47.2558 96.9004 48.612 96.8645 50.0698C96.8558 50.4209 96.8799 50.7676 96.9355 51.1067C97.111 52.1751 97.5988 53.1665 98.3567 53.9684C98.4836 54.1028 98.6169 54.2304 98.7561 54.3505C98.5984 55.9193 99.1205 57.5035 100.221 58.6682C102.281 60.8488 105.719 60.9349 107.885 58.86ZM104.084 57.501C103.396 57.4838 102.755 57.1975 102.28 56.6951C101.639 56.0165 101.411 55.0369 101.685 54.1391L102.021 53.036L101.022 52.4709C100.798 52.3443 100.594 52.1842 100.416 51.9954C99.9411 51.4929 99.6888 50.8345 99.7062 50.1411C99.7235 49.4478 100.008 48.8028 100.507 48.3247C101.481 47.3908 103.023 47.373 104.016 48.2841L104.86 49.0577L105.792 48.3956C106.827 47.6608 108.267 47.805 109.142 48.7308C109.502 49.1123 109.734 49.5835 109.818 50.0919C109.844 50.253 109.856 50.418 109.851 50.5851C109.834 51.2784 109.55 51.9234 109.051 52.4015C108.707 52.7308 108.282 52.9578 107.822 53.058L106.568 53.3309L106.71 54.6153C106.8 55.4311 106.514 56.2226 105.925 56.7864C105.426 57.2644 104.772 57.5182 104.084 57.501Z"
                        fill="black"
                      />
                      <path
                        d="M76.5599 48.4328C75.1695 48.4453 73.8632 49.0592 72.952 50.0717C72.4444 49.8977 71.9088 49.8107 71.3606 49.8157C68.6961 49.8398 66.5479 52.0422 66.5718 54.7254L69.4143 54.6997C69.4044 53.5948 70.289 52.688 71.3862 52.678C71.8163 52.6741 72.2291 52.8095 72.5798 53.0699L73.9828 54.111L74.7135 52.5178C75.0507 51.7823 75.7856 51.3024 76.5854 51.2951C77.7347 51.2847 78.6783 52.218 78.6886 53.3753L81.5311 53.3496C81.5065 50.6138 79.2767 48.4082 76.5599 48.4328Z"
                        fill="black"
                      />
                      <path
                        d="M48.4793 5.1845L37.8899 8.80912L38.8045 11.5194L49.3941 7.8947L48.4793 5.1845Z"
                        fill="black"
                      />
                      <path
                        d="M16.7362 19.071L23.3445 16.8098L22.43 14.0996L15.8214 16.3608L16.7362 19.071Z"
                        fill="black"
                      />
                      <path
                        d="M17.6436 39.4703L17.8834 42.3227L21.5695 42.0085L21.33 39.1561L17.6436 39.4703Z"
                        fill="black"
                      />
                      <path
                        d="M32.5043 38.2028L43.3024 37.2824L43.5422 40.1348L32.7438 41.0552L32.5043 38.2028Z"
                        fill="black"
                      />
                      <path
                        d="M47.6565 36.9103L47.8962 39.7627L54.1772 39.2273L53.9377 36.3749L47.6565 36.9103Z"
                        fill="black"
                      />
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M50.9549 60.0896L50.9449 60.1668L83.2017 59.875L83.2097 59.8749L89.3706 59.8359L89.4974 59.7626C89.6137 59.7683 89.7527 59.7703 89.9028 59.7616C90.2245 59.7429 90.8001 59.6662 91.4027 59.3049C92.8745 58.4223 92.9894 56.8992 92.9845 56.3547C92.9776 55.5815 92.8016 54.8286 92.4696 54.1431C92.7884 53.4526 92.9517 52.6971 92.9448 51.9226C92.923 49.4795 91.2156 47.4489 88.948 46.9346C89.1714 46.3441 89.2888 45.7081 89.2829 45.0548C89.2575 42.2061 86.9403 39.9137 84.1108 39.9393C83.3712 39.946 82.6513 40.1133 81.9951 40.4211C80.7639 39.2884 79.141 38.6484 77.4341 38.6638C77.0139 38.6676 76.5965 38.7108 76.1863 38.7932C75.8444 38.4661 75.4599 38.1884 75.0435 37.9677C75.9698 36.9407 76.5009 35.5851 76.4881 34.1555C76.4605 31.0665 73.9472 28.5811 70.8801 28.6088C69.5666 28.6207 68.3277 29.0938 67.3511 29.9236C66.7946 29.7467 66.212 29.6587 65.6248 29.664C64.5715 29.6735 63.5635 29.9809 62.7008 30.5324C60.9969 28.999 58.4876 28.6601 56.4266 29.7468C56.1345 29.5606 55.8313 29.3918 55.5185 29.2414C57.4831 27.3117 58.5127 24.4782 58.0321 21.5486C57.6449 19.1883 56.3418 17.1234 54.3845 15.7677C54.0039 15.5042 53.6071 15.2734 53.1976 15.0761C55.1687 13.1466 56.1886 10.3115 55.707 7.37589C54.903 2.47527 50.028 -0.953741 45.1021 0.237635L44.9689 0.269846L0 15.6594L7.28771 60.0825L50.9549 60.0896ZM68.7127 42.7002C68.2915 42.704 67.8806 42.7703 67.4889 42.8958C66.4897 41.8264 65.0848 41.2063 63.5827 41.2199C61.5791 41.2381 59.8415 42.3779 58.9535 44.0407C58.6007 43.8024 58.2304 43.59 57.8452 43.4056C58.1699 43.0862 58.4719 42.7391 58.7481 42.3663C60.1684 40.4487 60.7425 38.0717 60.3553 35.7114C60.1357 34.3729 59.6241 33.1555 58.8968 32.1143C59.5142 32.0906 60.131 32.2901 60.6215 32.6897C60.8074 32.8411 60.9752 33.0213 61.1179 33.2289C61.1659 33.2987 61.2137 33.3788 61.2603 33.4668L62.2918 35.4145L63.6367 33.6714C63.8479 33.3977 64.1051 33.1736 64.3931 33.0069C64.7711 32.788 65.2021 32.6679 65.6516 32.6639C66.1259 32.6596 66.5904 32.7857 66.9945 33.0286L68.0944 33.6899L68.8613 32.6564C69.3498 31.998 70.0956 31.616 70.9068 31.6087C72.3288 31.5958 73.4963 32.7503 73.5091 34.1825C73.5174 35.119 73.0203 35.9907 72.2121 36.4574L71.2203 37.0297L71.5629 38.1279C71.6382 38.3696 71.6789 38.6183 71.684 38.8682C71.682 38.9064 71.6811 38.9452 71.6814 38.9851L71.6926 40.2378L72.9273 40.3923C73.5528 40.4706 74.1109 40.8234 74.4583 41.3603L75.0884 42.334L76.164 41.913C76.5762 41.7516 77.0127 41.6677 77.4608 41.6637C78.2366 41.6567 78.9801 41.8935 79.5986 42.3252C79.9645 42.5805 80.2865 42.9041 80.5456 43.2858L81.4793 44.6613L82.6889 43.5244C83.0332 43.2006 83.4668 43.0014 83.9273 42.9515C83.9969 42.9439 84.067 42.9398 84.1376 42.9391C85.3216 42.9284 86.2933 43.8897 86.3039 45.0818C86.3109 45.8611 85.8962 46.5875 85.222 46.9778L84.2226 47.5561L84.5781 48.6603C84.6122 48.7661 84.6377 48.8867 84.6543 49.0192L84.9181 51.1422L86.7659 50.0863C87.0652 49.9154 87.4061 49.8201 87.7549 49.8097C87.7697 49.8093 87.7846 49.809 87.7995 49.8089C88.9834 49.7981 89.9551 50.7584 89.9657 51.9496C89.9701 52.4386 89.8162 52.9013 89.5208 53.2879L88.8396 54.1788L89.538 55.0553C89.8395 55.4341 90.0011 55.8925 90.0055 56.3816C90.0094 56.8186 89.7685 56.7873 89.4373 56.7442C89.1778 56.7105 88.8629 56.6695 88.5667 56.841L83.183 56.875L60.7005 57.0784C60.7926 56.9706 60.8825 56.8601 60.97 56.7471C62.4738 54.8057 63.0889 52.3717 62.6904 49.943L62.6808 49.8841C62.4571 48.521 61.9339 47.2832 61.1889 46.2293C61.3501 45.0278 62.3698 44.0935 63.6082 44.0823C64.5271 44.074 65.3683 44.578 65.8031 45.3973L66.6015 46.9018L67.9341 45.8487C68.0968 45.7199 68.3685 45.5659 68.7383 45.5626C69.4697 45.556 70.0701 46.15 70.0767 46.8863L72.9191 46.8606C72.8985 44.5457 71.0115 42.6794 68.7127 42.7002ZM54.6461 57.0902C56.2307 56.9434 57.6404 56.1677 58.6209 54.9021C59.6127 53.6217 60.0139 52.0341 59.7511 50.432L59.7414 50.3731C59.2795 47.5572 56.8818 45.5601 54.1209 45.5625C53.8826 45.5628 53.6416 45.5779 53.3989 45.6086L53.3419 45.6147L53.1996 45.6269L53.1449 45.6359L53.0741 45.647C53.0011 45.6582 52.9279 45.6685 52.8544 45.6778L52.7966 45.6839L8.56365 49.4542L9.81516 57.0829L54.6461 57.0902ZM4.60274 25.31C5.56937 25.0686 6.53588 24.8246 7.5023 24.5786C11.2973 23.6127 15.091 22.6151 18.8868 21.617L19.3645 21.4914C27.5721 19.3334 35.7905 17.1787 44.0545 15.3408C45.3564 15.0513 46.6596 14.7696 47.9639 14.497L48.2838 14.4303C48.5234 14.3809 48.7564 14.3171 48.9821 14.2402C51.5972 13.3484 53.2296 10.6808 52.7677 7.86486C52.237 4.63035 48.9909 2.3824 45.7979 3.15468L3.3512 17.6811L4.60274 25.31ZM48.8598 17.2597L48.8636 17.2593C49.0672 17.2372 49.2706 17.2261 49.4731 17.2259C50.6159 17.2247 51.7306 17.5708 52.6964 18.2397C53.9864 19.1331 54.8375 20.482 55.0927 22.0376C55.5517 24.835 53.9115 27.502 51.3371 28.4019C51.0347 28.5076 50.7192 28.589 50.3929 28.6433L6.35151 35.9698L5.06756 28.1434L48.6493 17.2867C48.7195 17.2764 48.7896 17.2674 48.8598 17.2597ZM8.0986 46.6206L6.81485 38.7942L50.8564 31.4676C51.1827 31.4133 51.5073 31.3882 51.8274 31.3904C54.5524 31.4088 56.9571 33.4031 57.416 36.2004C57.6712 37.756 57.2961 39.3088 56.36 40.5727C55.6593 41.5187 54.7146 42.2074 53.6323 42.5765C53.4581 42.6358 53.2804 42.6869 53.0996 42.7295L53.097 42.7301L53.0433 42.7425L53.0406 42.7431C53.0126 42.7493 52.9845 42.7554 52.9564 42.7613C52.9151 42.7699 52.8738 42.7781 52.8323 42.7858L8.0986 46.6206Z"
                        fill="black"
                      />
                    </svg>
                  </div>
                  <p className="marginSides2 marginTop2">
                    No liked movies yet!
                  </p>
                </div>
              ) : (
                likedMoviesInfos
                  .sort(sortByLikeAndMatchTime)
                  .map((likedMovieInfo) => (
                    <LikedMovieInMyList
                      key={likedMovieInfo.id}
                      movie={likedMovieInfo}
                      matched={likedMovieInfo.matches.length > 0 ? true : false}
                    />
                  ))
              )}
            </Route>
            <Route exact path="/mylist/watched">
              {watchedMovieInfos.length === 0 ? (
                <div className={style.container_emptystate}>
                  <div className="marginTop6">
                    <svg
                      width="106"
                      height="99"
                      viewBox="0 0 106 99"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fillRule="evenodd"
                        clipRule="evenodd"
                        d="M69 3H37V31H42.1866C43.5626 31 44.8967 31.4729 45.9654 32.3395L52.5 37.6378L59.0346 32.3395C60.1034 31.4729 61.4375 31 62.8134 31H69V3ZM72 27V31H78V27H72ZM72 24H78V19H72V24ZM72 16L78 16V11L72 11V16ZM72 8L78 8V3H72V8ZM27 3H34V8L27 8V3ZM27 11L34 11V16L27 16V11ZM27 19H34V24H27V19ZM34 27V31H27V27H34ZM27 0C25.3432 0 24 1.34315 24 3V31C24 32.6569 25.3432 34 27 34H42.1866C42.8746 34 43.5417 34.2365 44.076 34.6697L50.6106 39.968C51.712 40.861 53.2881 40.861 54.3894 39.968L60.924 34.6697C61.4584 34.2365 62.1255 34 62.8134 34H78C79.6569 34 81 32.6569 81 31V3C81 1.34315 79.6569 0 78 0H27ZM72.2425 46.66C71.9214 46.6079 71.5193 46.5635 71.192 46.5634L58.9404 46.5635C57.6482 46.5634 56.4333 47.0665 55.5198 47.9801C54.6062 48.8937 54.1031 50.1086 54.1031 51.4006L54.1029 53.8584C54.1029 55.2175 54.6672 56.4465 55.5728 57.3261C55.5653 57.3333 55.5576 57.3405 55.55 57.3476C55.5397 57.3572 55.5295 57.3668 55.5195 57.3767C54.6059 58.2903 54.1028 59.5052 54.1028 60.7972L54.1028 63.2549C54.1029 64.5831 54.6583 65.8276 55.5768 66.7228C54.66 67.6144 54.1028 68.857 54.1028 70.1939L54.1027 72.6514C54.1027 73.9434 54.6058 75.1583 55.5194 76.0719C55.5363 76.0888 55.5539 76.1044 55.5709 76.1209C55.5637 76.128 55.5562 76.1349 55.5488 76.1418L55.5393 76.1508C55.5325 76.1571 55.5259 76.1634 55.5194 76.1699C54.6058 77.0835 54.1027 78.2984 54.1027 79.5904V82.0481C54.1027 83.3401 54.6057 84.5549 55.5194 85.4686C56.4329 86.3821 57.6477 86.8854 58.9399 86.8853L75.7579 86.8854C76.5132 86.8854 77.1256 86.273 77.1254 85.5178C77.1253 85.1401 76.9723 84.798 76.7248 84.5506C76.4774 84.3032 76.1354 84.15 75.7576 84.15H73.9493C74.5962 83.1693 74.9441 82.0212 74.9442 80.8194C74.9442 79.4092 74.4658 78.0729 73.5867 76.9946C75.7434 76.0639 77.2572 73.917 77.2572 71.4227C77.2572 70.1142 76.8393 68.902 76.1321 67.91C78.0826 67.4222 79.678 65.9877 80.364 64.0951C82.3723 64.7319 84.5496 64.8158 86.6913 64.2883C87.4248 64.1079 87.8729 63.3668 87.6924 62.6334C87.5119 61.9005 86.7708 61.4519 86.0374 61.6324C82.9676 62.3881 79.802 61.5067 77.5696 59.2743L76.3635 58.0681C75.8293 57.5339 74.9634 57.5341 74.4294 58.0681L66.9471 65.5504C64.792 67.7055 61.2852 67.7055 59.1301 65.5504C58.7939 65.2142 58.7753 64.6734 59.0859 64.3148L71.49 50.814C72.7082 49.4882 74.2513 48.4761 75.9523 47.8871L81.8555 45.8427C83.2815 45.3487 84.8189 45.4314 86.184 46.075L89.3396 47.5626C90.799 48.2506 92.1175 49.1781 93.2582 50.3189L99.3631 56.4237C99.8973 56.9579 100.763 56.9578 101.297 56.4237C101.829 55.8918 101.831 55.0311 101.303 54.4965H104.213C104.969 54.4965 105.581 53.8842 105.581 53.1289C105.581 52.7513 105.428 52.4092 105.18 52.1617C104.933 51.9143 104.591 51.7611 104.213 51.7611H98.5685L95.1921 48.3847C93.8279 47.0205 92.2513 45.9115 90.5059 45.0885L87.3503 43.6009C85.3348 42.6507 83.0656 42.529 80.9601 43.2582L75.0569 45.3026C74.0693 45.6452 73.1246 46.1031 72.2425 46.66ZM57.4539 59.3109C57.8504 58.9144 58.3777 58.6958 58.9384 58.6954L58.9392 58.6955L58.9402 58.6954H60.5355L57.0621 62.4761L57.0614 62.4768C57.056 62.4827 57.0506 62.4886 57.0453 62.4946C56.9715 62.5779 56.9032 62.6643 56.8385 62.7525L56.8383 60.7971C56.8383 60.2357 57.0569 59.7079 57.4539 59.3109ZM71.234 83.1744C70.6049 83.8035 69.7687 84.15 68.8788 84.1498H58.9401C58.3787 84.1498 57.8509 83.9313 57.454 83.5344C57.057 83.1374 56.8383 82.6095 56.8385 82.0482V79.5905C56.8385 79.0291 57.057 78.5013 57.454 78.1043C57.8508 77.7076 58.3783 77.489 58.9395 77.4887L58.9397 77.4888L58.9405 77.4887H68.8779H68.8792C69.7688 77.4886 70.6053 77.8351 71.2344 78.4642C71.8634 79.0932 72.2098 79.9296 72.2097 80.8192C72.2095 81.7089 71.8631 82.5453 71.234 83.1744ZM75.6361 61.2086C76.3161 61.8885 77.063 62.4712 77.8585 62.9546C77.4536 64.3544 76.1626 65.3568 74.6613 65.3567L71.01 65.3568L75.3971 60.9698L75.636 61.2087L75.6361 61.2086ZM68.2023 68.0921H71.1914L71.1917 68.0921L71.192 68.0921C73.0281 68.0918 74.5226 69.586 74.5225 71.4226C74.5225 73.2593 73.0284 74.7533 71.1917 74.7533L58.9401 74.7535C58.3786 74.7533 57.8508 74.5348 57.4538 74.1377C57.0569 73.7409 56.8382 73.213 56.8382 72.6515L56.8383 70.194C56.8383 69.3517 57.3464 68.5966 58.1021 68.2672C61.0959 70.501 65.2701 70.4427 68.2023 68.0921ZM58.9404 49.2989L69.1688 49.2988L63.048 55.9609C63.0419 55.9608 63.0363 55.96 63.0302 55.9599L58.9405 55.96C57.7813 55.96 56.8383 55.0171 56.8386 53.8581V51.4005C56.8386 50.839 57.0573 50.3111 57.4542 49.9143C57.8509 49.5175 58.3787 49.2989 58.9404 49.2989ZM82.2288 86.8813C86.1688 86.8351 89.9106 85.5571 93.0505 83.1857L96.904 80.2746H104.214C104.969 80.2746 105.582 79.6622 105.581 78.907C105.581 78.5292 105.428 78.1874 105.181 77.9398C104.933 77.6924 104.591 77.5392 104.214 77.5392H96.4452C96.1477 77.5393 95.8584 77.6363 95.6209 77.8155L91.4016 81.003C88.7312 83.0199 85.5482 84.1068 82.1964 84.146C81.4411 84.1548 80.8361 84.7742 80.8448 85.5295C80.854 86.2853 81.4734 86.89 82.2288 86.8813ZM34.5466 50.8147C33.349 49.5105 31.8347 48.5099 30.1652 47.9172C29.4537 47.6642 29.0812 46.8824 29.3338 46.1713C29.5867 45.4596 30.3686 45.0875 31.0804 45.3402C32.0296 45.6773 32.9388 46.1205 33.7892 46.6565C34.1368 46.5954 34.4905 46.564 34.8451 46.564L47.0968 46.564C48.389 46.5639 49.6038 47.0672 50.5173 47.9807C51.431 48.8944 51.9342 50.1091 51.9342 51.4011V53.8588C51.9342 55.1508 51.431 56.3657 50.5175 57.2793C50.5099 57.2868 50.5022 57.2941 50.4945 57.3013L50.4827 57.3123L50.4659 57.3283L50.4744 57.3364L50.4875 57.3487L50.4876 57.3488L50.4879 57.3491C50.4978 57.3583 50.5078 57.3676 50.5175 57.3773C51.431 58.2908 51.9342 59.5057 51.9342 60.7977L51.934 63.2553C51.9342 64.5802 51.3791 65.8254 50.4612 66.7213L50.4742 66.7336L50.4851 66.7435C50.4949 66.7525 50.5047 66.7614 50.5141 66.7708C51.4001 67.6565 51.9342 68.8768 51.9342 70.1941L51.9342 72.6518C51.9342 73.9438 51.431 75.1587 50.5175 76.0723C50.509 76.0807 50.5004 76.0888 50.4918 76.0969C50.483 76.1051 50.4742 76.1133 50.4655 76.1217C50.4727 76.1286 50.48 76.1354 50.4873 76.1423C50.4972 76.1514 50.507 76.1606 50.5166 76.1702C50.7284 76.382 50.9221 76.6151 51.0944 76.8676C51.5201 77.4917 51.3593 78.3426 50.7354 78.7682C50.1113 79.1937 49.2603 79.0333 48.8347 78.409C48.4416 77.8322 47.7918 77.4886 47.097 77.4887H47.0957L37.1584 77.4889C37.1582 77.4887 37.1581 77.4889 37.1581 77.4889C35.3214 77.4889 33.8275 78.9828 33.8275 80.8195C33.8274 81.7091 34.1738 82.5455 34.803 83.1746C35.4321 83.8037 36.2685 84.1502 37.1581 84.1501L47.0968 84.1501C47.7717 84.1501 48.3895 83.8348 48.7918 83.2853C49.2378 82.6758 50.0936 82.5431 50.7031 82.9891C50.7609 83.0314 50.8147 83.0777 50.8638 83.1268C51.3325 83.5955 51.4028 84.3489 50.9991 84.9004C50.0895 86.1437 48.6306 86.8856 47.0966 86.8855L24.0226 86.8855C20.0642 86.8854 16.1448 85.5714 12.9863 83.1856L9.13284 80.2747L1.82315 80.2748C1.0678 80.2748 0.455574 79.6626 0.455444 78.9071C0.455316 78.1519 1.06767 77.5395 1.82302 77.5395L9.59123 77.5394C9.88897 77.5395 10.1783 77.6365 10.4157 77.8159L14.6351 81.0032C17.3218 83.0325 20.6555 84.1502 24.0225 84.1502L32.0868 84.1504C31.4398 83.1697 31.092 82.0216 31.092 80.8196C31.092 79.3713 31.6028 78.0406 32.4528 76.9964C30.2944 76.0664 28.7792 73.9185 28.7791 71.4231C28.779 70.1454 29.1728 68.9289 29.9005 67.9095C27.9517 67.4208 26.3579 65.987 25.6723 64.0955C23.664 64.7323 21.4868 64.816 19.3452 64.2888C18.612 64.1082 18.1635 63.3673 18.3441 62.6336C18.5246 61.9002 19.2656 61.4521 19.9991 61.6326C23.0689 62.3885 26.2343 61.5071 28.4667 59.2747L29.6728 58.0685C29.9293 57.812 30.2772 57.6679 30.6398 57.6679C31.0027 57.668 31.3505 57.812 31.607 58.0685L39.0893 65.5509C41.2445 67.706 44.7512 67.706 46.9064 65.5509C47.2425 65.2147 47.2612 64.674 46.9507 64.3156L34.5466 50.8147ZM30.4011 61.2086C29.7212 61.8885 28.9742 62.4712 28.1789 62.9544C28.5836 64.3547 29.875 65.3569 31.376 65.3565H35.0272L30.6401 60.9695L30.4011 61.2086ZM49.1989 72.6517V70.194C49.1989 69.3484 48.6924 68.5956 47.9356 68.2664C44.939 70.5031 40.7593 70.4429 37.8266 68.0855C37.785 68.0894 37.743 68.092 37.7005 68.092H34.8441C33.9549 68.0925 33.119 68.4387 32.4902 69.0674C31.8611 69.6965 31.5148 70.5331 31.5146 71.4227C31.515 73.2592 33.0087 74.7534 34.8453 74.7533H47.097C47.6585 74.7534 48.1864 74.5348 48.5833 74.1379C48.9802 73.741 49.1989 73.2131 49.1989 72.6517ZM49.1989 60.7974C49.1989 60.2359 48.9802 59.708 48.5833 59.3111C48.1863 58.9141 47.6584 58.6954 47.097 58.6954L45.5017 58.6954L48.9753 62.4762L48.9922 62.4949C49.0659 62.5782 49.134 62.6646 49.1989 62.7527L49.1989 60.7974ZM48.5832 49.9144C48.1863 49.5175 47.6585 49.2989 47.0971 49.2989L36.8684 49.2988L42.9892 55.9609C42.995 55.9608 43.0007 55.96 43.0066 55.96H47.0967C47.0971 55.9599 47.0975 55.96 47.0977 55.96C47.6589 55.9598 48.1864 55.7412 48.5832 55.3444C48.9802 54.9474 49.1987 54.4197 49.1987 53.8582V51.4006C49.1989 50.8393 48.9802 50.3114 48.5832 49.9144ZM0.455707 53.1292C0.455835 53.8847 1.06793 54.497 1.82341 54.4969L4.73315 54.4969C4.20577 55.0315 4.20745 55.8922 4.73934 56.4241C5.27356 56.9583 6.13942 56.9582 6.6735 56.4241L12.7783 50.3193C13.9194 49.1782 15.2378 48.251 16.6969 47.5632L19.8525 46.0755C21.1855 45.447 22.6923 45.3549 24.0951 45.8162C24.8127 46.052 25.5855 45.6618 25.8215 44.9441C25.9884 44.4371 25.8421 43.9022 25.4888 43.5489C25.3422 43.4023 25.16 43.2869 24.9496 43.2178C22.8791 42.5369 20.6546 42.673 18.6859 43.6012L15.5304 45.0889C13.7853 45.9116 12.2085 47.0205 10.8441 48.385L7.46766 51.7614L1.82315 51.7612C1.06806 51.7615 0.455707 52.3738 0.455707 53.1292ZM53.3254 91.3291C53.5734 91.5771 53.7266 91.9196 53.7261 92.2979L53.7201 97.2459C53.7192 98.0011 53.1064 98.6127 52.3509 98.6118C51.5956 98.611 50.9841 97.9978 50.985 97.2425L50.9908 92.2944C50.9917 91.5392 51.6046 90.9276 52.3601 90.9285C52.7371 90.929 53.0784 91.0821 53.3254 91.3291ZM48.6651 91.8182C49.0528 91.2662 48.9757 90.5268 48.5144 90.0656C48.4593 90.0104 48.3985 89.9592 48.3325 89.9128C47.7145 89.4784 46.8614 89.6272 46.427 90.2452L43.8992 93.8419C43.4651 94.46 43.6143 95.3132 44.2318 95.7473C44.8498 96.1817 45.7029 96.0329 46.1373 95.4149L48.6651 91.8182ZM58.2841 90.2452L60.8117 93.8419C61.2458 94.46 61.097 95.313 60.4791 95.7473C59.8611 96.1815 59.0085 96.0334 58.5736 95.4146L56.0461 91.8179C55.6119 91.1999 55.7607 90.3468 56.3786 89.9126C56.9306 89.5248 57.6701 89.6021 58.1312 90.0632C58.1864 90.1184 58.2376 90.1791 58.2841 90.2452ZM59 19.7321C60.3334 18.9623 60.3334 17.0378 59 16.268L50 11.0718C48.6667 10.302 47 11.2643 47 12.8039V23.1962C47 24.7358 48.6667 25.698 50 24.9282L59 19.7321Z"
                        fill="black"
                      />
                    </svg>
                  </div>
                  <p className="marginSides2 marginTop2">
                    The movies you and your friends have watched together will
                    go here.
                  </p>
                </div>
              ) : (
                watchedMovieInfos.map((watchedMovieInfo) => (
                  <LikedMovieInMyList
                    key={watchedMovieInfo.movieDetails.id}
                    movie={watchedMovieInfo.movieDetails}
                    watched={
                      watchedMovieInfo.watchedWith.length > 0
                        ? watchedMovieInfo.watchedWith
                        : undefined
                    }
                  />
                ))
              )}
            </Route>
            <div className="container_subcontent"></div>
          </motion.div>
        </div>
      </Route>
    </>
  );
}
